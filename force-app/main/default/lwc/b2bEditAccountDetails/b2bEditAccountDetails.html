<template>
    <lightning-card>
        <template if:true={isLoading}>
            <lightning-spinner alternative-text="Loading" variant="brand" size="small"></lightning-spinner>
        </template>
        <div class="slds-p-horizontal_x-large">
            <div if:true={showReadTemplate}>
                <div class="slds-grid slds-wrap slds-gutters slds-grid_vertical-align-center slds-grid_align-spread slds-p-vertical_x-small">
                    <div class="slds-col slds-size_8-of-12 slds-medium-size_8-of-12">
                        <h2 class="dxp-text-heading-medium">{readTemplateTitle}</h2>
                    </div>
                    <div class="slds-col slds-size_4-of-12 slds-medium-size_4-of-12 slds-text-align_right">
                        <lightning-button
                        variant="base"
                        onclick={handleEditButton}
                        label={editButtonLabel}
                    ></lightning-button>
                    </div>
                </div>
                <div>
                    <div class="slds-p-vertical_small">
                        <p class="slds-form-element__label slds-no-flex">{licenseNumberLabel}<lightning-helptext class="slds-p-left_xx-small" content={licenseNumberHelpText}></lightning-helptext></p>
                        <p>{licenseNumber}</p>
                    </div>
                    <div class="slds-p-vertical_small">
                        <p class="slds-form-element__label slds-no-flex">{ccpdtNumberLabel}<lightning-helptext class="slds-p-left_xx-small" content={ccpdtNumberHelpText}></lightning-helptext></p>
                        <p>{ccpdtNumber}</p>
                    </div>
                </div>
            </div>
            <div if:true={showEditTemplate}>
                <h2 class="dxp-text-heading-medium slds-p-bottom_medium">{editTemplateTitle}</h2>
                <div class="slds-p-top_x-small">
                    <lightning-input 
                        type="text" 
                        label={licenseNumberLabel}
                        value={editedLicenseNumber}
                        onchange={handleLicenseNumberChange}
                        field-level-help={licenseNumberHelpText}
                    ></lightning-input>
                    <lightning-input 
                        type="text" 
                        label={ccpdtNumberLabel}
                        value={editedCCPDTNumber}
                        onchange={handleCCPDTNumberChange}
                        field-level-help={ccpdtNumberHelpText}
                    ></lightning-input>
                </div>
                <div class="slds-grid slds-wrap slds-gutters slds-grid_vertical-align-center slds-p-vertical_medium">
                    <div class="slds-col slds-size_6-of-12 slds-medium-size_6-of-12">
                        <lightning-button 
                            variant="neutral" 
                            onclick={handleCancel} 
                            label={cancelButtonLabel}
                            stretch="true"
                        ></lightning-button>
                    </div>
                    <div class="slds-col slds-size_6-of-12 slds-medium-size_6-of-12">
                        <lightning-button 
                            variant="brand" 
                            onclick={updateAccountDetails} 
                            label={saveButtonLabel}
                            stretch="true"
                        ></lightning-button>
                    </div>
                </div>
            </div>
        </div>
    </lightning-card>
</template>