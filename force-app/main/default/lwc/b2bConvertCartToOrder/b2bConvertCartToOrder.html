<template>
    <lightning-card title="Convert Cart To Order" icon-name="utility:form">
        <div if:true={showSuccessMsg}>
            <p class="slds-text-align_center slds-text-color_success">{successMsg}</p>
        </div>
        <div if:true={showErrMsg}>
            <p class="slds-text-align_center slds-text-color_error">
                An error occurred during order creation. Please check the error details below.
            </p>
            <p class="slds-text-align_center slds-text-color_error">Error: {errorMsg}</p>
        </div>
        <div class="slds-p-around_medium">
            <lightning-input
                type="text"
                required
                label={inputLabel}
                value={paymentIntentId}
                placeholder="pi_1RtY2ZFkggLOPOs91ScvixB4"
                message-when-bad-input="Please enter a valid Payment Id (e.g., pi_xxxxxxx)"
                onchange={handleInputChange}>
            </lightning-input>

            <div class="slds-p-top_small slds-text-align_right">
                <lightning-button
                    class="slds-m-top_small"
                    variant="brand"
                    stretch="true"
                    label={buttonLabel}
                    disabled={isDisabled}
                    onclick={handleCartToOrder}>
                </lightning-button>
            </div>
        </div>
    </lightning-card>
</template>